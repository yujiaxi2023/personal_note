![[10.3390@rs12101662.pdf.pdf]]



这一部分的主要内容是关于遥感图像变化检测的一个新方法和数据集。在提出的方法中，研究者设计了一个基于注意力机制的神经网络，用于建模空间-时间关系，以提高变化检测的性能。他们在特征提取过程中引入了一个新的自注意力模块，该模块计算不同时间和位置的任意两个像素之间的注意力权重，并使用它们来生成更具鉴别性的特征。为了考虑对象可能具有不同的尺度，他们将图像分割成多尺度子区域，并在每个子区域引入自注意力。这样，他们可以捕捉到不同尺度上的空间-时间依赖关系，从而生成更好的表示以适应各种尺寸的对象。此外，他们还介绍了一个比其他公共数据集大几个数量级的变化检测数据集LEVIR-CD。实验证明，他们提出的注意力模块在可接受的计算开销下将基准模型的F1得分从83.9提高到87.3，并且在公共遥感图像CD数据集上，他们的方法优于其他一些最先进的方法。

总的来说，这一部分介绍了一种基于注意力机制的空间-时间方法和一个新的数据集，用于提高遥感图像变化检测的性能。

 我们设计了两种自注意力模块：基本的空间-时间注意力模块（BAM）和金字塔的空间-时间注意力模块（PAM）。BAM学习捕捉任意两个位置之间的空间-时间依赖关系（注意力权重），并通过空间-时间内所有位置处的特征的加权和来计算每个位置的响应。PAM将BAM嵌入到金字塔结构中，生成多尺度的注意力表示。我们的方法与以往基于深度学习的遥感变化检测算法不同。以往的基于度量的方法分别处理来自不同时间的双时相图像序列，而不引用任何有用的时间依赖关系。以往的基于分类的方法也未充分利用空间-时间依赖关系。我们的方法引入了一个CD自注意力机制，以利用空间-时间关系中像素之间的显式关系。与以往方法不同，我们的注意力模块可以捕捉到长距离、丰富的空间-时间关系。此外，我们将自注意力模块整合到金字塔结构中，以捕获不同尺度的空间-时间依赖关系。我们的工作的贡献可以总结如下：（1）我们提出了一个新的框架，即空间-时间注意力神经网络（STANet）用于遥感图像变化检测。以往的方法独立编码双时相图像，而在我们的框架中，我们设计了一个变化检测自注意力机制，充分利用空间-时间关系来获得具有光照不变性和对齐鲁棒性的特征。 （2）我们提出了两种注意力模块：基本的空间-时间注意力模块（BAM）和金字塔的空间-时间注意力模块（PAM）。BAM利用全局空间-时间关系来获得更好的区分性特征。此外，PAM聚合多尺度的注意力表示以获得对象的更好细节。这些模块可以与现有的深度孪生FCN轻松集成以进行变化检测。（3）广泛的实验证实了我们提出的注意力模块的有效性。我们的注意力模块可以很好地减轻由于双时相图像的配准错误而产生的错误检测，并且对颜色和尺度变化具有鲁棒性。我们还可视化注意力图以更好地理解自注意力机制。（4）我们引入了一个新的数据集LEVIR-CD（LEVIR建筑物变化检测数据集），该数据集比现有数据集大两个数量级。由于缺乏公开的大规模CD数据集，新的数据集将推动遥感图像CD研究。我们将在https://justchenhao.github.io/LEVIR/上开放访问LEVIR-CD。我们的代码也将开源。在材料和方法部分，我们首先详细介绍了我们提出的方法，然后介绍了一个新的遥感图像CD数据集，并给出实验的实施细节。

这一部分的主要内容包括两个自注意力模块：基本的空间-时间注意力模块（BAM）和金字塔的空间-时间注意力模块（PAM）。BAM通过学习抓取输入张量中任意两个位置之间的空间-时间依赖关系（注意力权重），并通过对值的加权和来计算每个位置的输出向量，以生成残差映射Y。PAM通过将BAM嵌入到金字塔结构中，生成多尺度的空间-时间注意力表示来增强细节识别能力。在深度度量学习模块中，我们采用对比损失来学习嵌入空间中相似样本之间的较小距离，而将不相似样本之间的距离推开。此外，我们还提出了一个新的遥感图像CD数据集LEVIR-CD，它包含了637个具有挑战性的高分辨率遥感图像对，为遥感图像CD算法的评估提供了更好的基准。

#### 这一部分的主要内容包括以下几点：

1. 建筑物是人工建筑的代表，检测建筑物的变化是一项重要的变化检测任务，具有多种应用，如城市化监测和非法建筑识别。

2. VHR遥感图像提供了分析细微变化的机会，我们关注与建筑物相关的变化，包括建筑物的增长和减少。

3. 我们的新数据集涵盖了各种类型的建筑物，并且经过了专业遥感图像解译专家的注释。

4. 我们的数据集共包含了31,333个具有变化的建筑物，每个图像对中平均有约50个变化的建筑物。

5. 我们使用Google Earth图像构建数据集，并注意遵守其使用条款。

6. 我们的数据集相比其他已有数据集具有更高分辨率，但在光谱信息方面相对较差。

7. 目前已有的遥感图像变化检测数据集存在许多缺点，如数据量不足、图像分辨率低等。

8. 我们采用精度、召回率和F1分数作为评价指标，并介绍了LEVIR-CD和SZTAKI数据集的实施细节。

这一部分的内容主要涉及以下几个方面：

1. 训练细节：使用Pytorch [71]实现我们的方法。我们的模型是在ImageNet预训练的ResNet-18 [36]模型上微调的，初始学习率为10^-3。采用Adam优化器 [73]，批大小为4，β1为0.5，β2为0.99。数据增强采用随机翻转和随机旋转（-15°∼15°）的方式。

2. 与基线方法的比较：为验证空间-时间模块的有效性，我们设计了一种基线方法：FCN网络 + PAM（PAM）。所有比较方法使用相同的超参数设置。

3. 在LEVIR-CD数据集上的比较：我们将BASE、BAM和PAM与基线方法进行了比较。表格4显示了在LEVIR-CD测试集上的基线方法及其变体的消融研究结果。通过计算变化类型的精度、召回率和F1-score来评估我们方法的性能。可以观察到，空间-时间模块（BAM和PAM）相比基线方法有显著改进。与基线方法相比，BAM的F1-score提高了1.8个点。此外，我们的多尺度注意力设计（PAM）显著改善了性能，与BAM相比提高了1.6个F1-score。

4. 在SZTAKI数据集上的比较：我们还在SZTAKI数据集上评估了我们提出的方法，并与其他三种最先进的遥感图像变化检测方法进行了比较。可以观察到，我们提出的方法在F1-score上始终优于其他最先进的方法。

5. 速度性能：我们在配备Intel i7-7700K CPU和NVIDIA GTX 1080Ti显卡的台式电脑上测试了我们的方法。我们的模型训练和测试过程都使用GPU加速。我们的模型比TBSRL更快，具有竞争力的时间性能和可接受的时间消耗。

6. 讨论：通过可视化注意力模块，解释了注意力模块学习到的内容。同时，探讨了PAM中哪个金字塔层级最重要。

#### 这一部分的内容主要包括以下几个方面：

1. 自注意机制可以模拟顺序数据中两个位置之间的长程相关性。双时空图像可以被看作是空时中点的集合，即一个点处于某个空间位置，来自某个时间。我们的注意力模块可以捕捉空时中任意两个点之间的空时依赖性（注意力权重）。通过利用这些相关性，我们的注意力模块可以获得更具判别性的特征。为了更好地理解我们的空时注意力模块，我们可视化了学习到的注意力图（见图9）。图中的可视化结果是通过BAM模型获得的，其中每个点与整个空时中的所有点相关。换句话说，我们可以为每个点绘制一个大小为H × W × 2的注意力图，其中H、W分别表示图像特征图的高度和宽度。我们选择了四组双时空图像进行可视化，图9中的前两行来自LEVIR-CD测试集，后两行来自SZTAKI测试集。对于每个样本，我们选择了两个点（用红点标记）并显示了它们的对应注意力图（#1和#2）。以第一行为例：双时空图像显示了新建的别墅。点1（标记在裸露的土地上）突出显示属于裸露土地、道路和树木（非建筑物）的像素，而点2（标记在建筑物上）对双时空图像上的所有建筑像素具有较高的注意力权重。至于第三行，点1标在草地上，其对应的注意力图#1突出显示了双时空图像中属于草地和树木的大部分区域；点2（标记在建筑物上）对建筑物和人工地面的像素付出了高度关注。可视化结果表明，我们的注意力模块可以捕捉语义相似性和长程空时依赖关系。值得指出的是，学习到的语义相似性与数据集和变化类型高度相关。我们的发现与非局部神经网络的研究结果一致，其中通过自注意机制可以捕捉到视频中相关对象的依赖关系。

2. PAM中哪个金字塔层级最重要？PAM将不同金字塔层级的注意力特征合并以产生多尺度注意力特征。在某个特定的金字塔层级中，特征图被均匀分割为一定大小的s × s子区域，每个子区域中的每个像素与该子区域中的所有双时空像素相关。分割尺度s是PAM中的重要超参数。我们设计了几种不同金字塔分割尺度（1、2、4、8、16）的PAM进行分析，以确定哪个尺度对性能的贡献最大。表8显示了LEVIR-CD测试集上的比较结果。表的上半部分列出了不同PAM的性能，每个PAM只包含一个特定的金字塔层级。我们可以观察到，当分割尺度为8时，获得了最佳性能。这是因为在这种情况下，每个子区域的大小与变化实例的平均大小相符。我们网络的输入尺寸为256 × 256像素，输入到注意力模块的特征图大小为64 × 64像素。当分割尺度为8时，特征图中每个子区域的大小为8 × 8像素，对应于网络输入图像的32 × 32像素区域。此外，LEVIR-CD中变化实例的平均大小为987像素，约为32 × 32像素。我们还观察到分割尺度为16的PAM性能较差。这是因为每个像素的注意力区域变得太小，无法容纳大多数变化实例。表的下半部分显示了使用几个金字塔层级组合的PAM的性能。PAM（1、2、4、8）通过考虑多尺度空时上下文信息获得了最佳性能。方法学分析和未来工作。 在这项工作中，我们提出了一种基于注意力的遥感图像二值变化检测Siamese FCN。我们的方法在以往Siamese FCN方法的基础上引入了自注意机制。据我们所知，我们是第一个在变化检测任务中引入自注意机制的研究，其中空时中的任意两个像素相互关联。

我们发现，通过利用空时依赖性可以很好地减轻双时空图像中由于误配几而导致的错检。空时关系已在一些最近的研究中进行了讨论并证明是有效的，其中利用循环神经网络建模这种关系。我们还发现，PAM可以比BAM获取更精细的细节，这归因于PAM提取的多尺度注意力特征。多尺度上下文信息对于识别变化是重要的。以前的研究使用ASPP提取多尺度特征，这对于变化决策有益。因此，未来的方向可能在于探索更好的捕捉空时依赖性和多尺度上下文信息的方法。我们希望设计更多形式的自注意模块，并探索级联模块的影响。此外，我们希望将强化学习（RL）引入CD任务，以设计出更好的网络结构。

综上所述，本文提出了一种用于遥感图像二值变化检测的空时注意力神经网络。我们还提供了一个比现有数据集大两个数量级的遥感图像变化检测数据集。消融实验验证了我们提出的空时注意力模块（BAM和PAM）的有效性，这些模块可以捕捉长程空时依赖关系，学习更好的特征表示。实验结果表明，我们的注意力模块可以很好地减轻因双时空图像中误配而导致的错检。此外，我们的注意力模块对双时空图像中的颜色和尺度变化更具鲁棒性。通过提取多尺度注意力特征，PAM可以获取比BAM更精细的细节。我们还通过可视化注意力图来更好地理解我们的注意力模块。我们提出的方法在SZTAKI数据集上优于其他几种最先进的遥感图像变化检测方法。此外，我们的注意力模块可以插入任何基于Siamese-FCN的CD算法中，以引入性能改进。最后，我们希望我们新提出的LEVIR-CD数据集能为研究人员开展具有更多数据需求的遥感图像变化检测算法提供机会。


1. Title: A Spatial-Temporal Attention-Based Method and a New Dataset for Remote Sensing Image Change Detection (基于空间-时间注意力的遥感图像变化检测方法及新数据集)

2. Authors: Hao Chen and Zhenwei Shi

3. Affiliation: 1 Image Processing Center, School of Astronautics, Beihang University, Beijing 100191, China (北京航空航天大学宇航学院图像处理中心)

4. Keywords: Remote sensing, change detection, attention mechanism, spatial-temporal modeling, building change

5. URLs: 
   - Paper: [link](https://www.mdpi.com/1424-8220/20/10/2891)
   - Github: None

6. Summary: 
    - (1): 本文研究背景是遥感图像变化检测，该任务是为了识别遥感图像中的变化。特别是关注建筑物变化，如建筑物的增长和减少。
 
    - (2): 以往的方法使用基于度量或分类的方法进行变化检测，但未充分利用空间-时间依赖关系。本文的方法通过引入自注意力机制，建立了空间-时间注意力模块，以考虑像素之间的显式关系，提高了变化检测的性能。
 
    - (3): 本文提出了两种自注意力模块：基本的空间-时间注意力模块（BAM）和金字塔的空间-时间注意力模块（PAM）。BAM学习捕捉任意两个位置之间的空间-时间依赖关系，而PAM在金字塔结构中生成多尺度的注意力表示。
 
    - (4): 本文的方法在新构建的遥感图像变化检测数据集上进行了评估。实验结果表明，该方法在建筑物变化检测任务中取得了较好的性能，证明了方法的有效性和可行性。




