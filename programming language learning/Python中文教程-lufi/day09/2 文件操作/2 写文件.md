- 写文本文件
```python
# 代表打开文件，文件路径是t1.txt，模式是'wb'（要求写入内容是字节类型）
file_object = open('t1.txt', mode = 'wb')

# 写入内容
file_object.write("wupeiqi".encode('utf-8'))
# 文件关闭
file_object.close()
```
写入的内容是utf-8的编码写入的0101010
如果每次写入都需要输入uft-8会比较麻烦
如果更改为
```python
file_object = open('t1.txt', mode = 'wt')
file_object.write('wupeiqi')
file_object.close()
```
这里没有指定编码格式，也可以进行指定
```python
file_object = open('t1.txt', mode = 'wt', encoding = 'utf-8')
file_object.write('wupeiqi')
file_object.close()
```
最开始指定了输入的模式会转换为utf-8，所以后边就会自动输入该模式的编码

- 写图片文件
```python
f1 = open('R.jpg', mode = 'rb')
content = f1.read()
f1.close()

f2 = open('C.jpg', mode = 'wb')
f2.write(content)
f2.close()

复制R图片的内容到C图片中

对图片的操作直接就使用二进制的读编码的方式‘rb'

**写文件案例**

案例1：
用户注册
```python
user = input('please input your username:')
pwd = input('please input password:')

data = f"{user}-{pwd}"

file_object = open('file/info.txt', mode = 'wt', encoding = 'utf-8')
file_object.write(data)
file_object.close()
```
如果想要在目录下面创建文件，如果不存在会自动新建文件然后写入

案例2：
多用户注册
```python
while True:  
    user = input('please input your username:')  
    if user.upper() == "Q":  
        break  
    pwd = input('please input password:')  
  
    data = f"{user}-{pwd}"  
  
    file_object = open('file/info.txt', mode='wt', encoding='utf-8')  
    file_object.write(data)  
    file_object.close()
```
这样写的内容，在info文件里面只有最后一次输入的结果
![[Pasted image 20230705203612.png]]
![[Pasted image 20230705203627.png]]

这个原因是因为wt这个模式的特点，在每次写入文本的时候会更新，重新打开文件，需要做出以下的修改
```python
file_object = open('file/info.txt', mode='wt', encoding='utf-8')

while True:  
    user = input('please input your username:')  
    if user.upper() == "Q":  
        break  
    pwd = input('please input password:')  
    data = f"{user}-{pwd}"  
  
    file_object.write(data)  

file_object.close()
```
对于file 的open和close都需要在循环之外操作
这样得到的结果才基本符合要求，但是结果比较别扭
![[Pasted image 20230705203947.png]]
我们想要的是可以换行的结果
在每一行后边添加换行符
要进行如下的修改
```python
file_object = open('file/info.txt', mode='wt', encoding='utf-8')

while True:  
    user = input('please input your username:')  
    if user.upper() == "Q":  
        break  
    pwd = input('please input password:')  
    data = f"{user}-{pwd}\n"  # 这里添加一个换行符
  
    file_object.write(data)  

file_object.close()
```
这样还有一个好处，是打开这个info文件的时候自动的从最后一行之后换行操作

但是这样还是有一个缺点，就是打开文件的时候每次打开都会重新刷新info这个文件，没有办法保留上一次的输入结果

**案例（超前）**

案例1：
从网络上下载一个文本信息
将这个文本信息写入文件中
第一步python向网站发送请求下载（伪造浏览器向某个网址发送请求获取结果）
第二步写入文件
利用第三方模块进行请求
- 下载第三方模块
在终端
```python
pip install requests
```
- 使用第三方模块
```python
import requests

res = requests.get(url = "网址")
print(res)

print(res.content)
```
这样在申请某些网站的时候会被网站发觉发送请求的是代码而不是操作者
所以需要添加一个请求头，这也是做爬虫的关键操作
```python
import requests

res = requests.get(
	url = "网址"
	headers = {
		"用户":"请求头"
	}
)
print(res)

# 网络传输的原始二进制信息（bytes）
print(res.content)

file_object = open('file/log1.txt', mode = 'wb')
file_object.write(res.content)
file_object.close()
```
![[Pasted image 20230705211335.png]]


案例2：
网络上下载图片
图片写入本地文件
每家网站 防止爬虫的策略不一样，所以代码其实是不一样的，这里是不防爬虫或者很简单的爬虫策略进行的操作，对于所有知道网址的内容都是可以获得的
```python
import requests

res = requests.get(
	url = "网址"
	headers = {
		"用户":"请求头"
	}
)
print(res)

# 网络传输的原始二进制信息（bytes）
print(res.content)

file_object = open('file/log1.txt', mode = 'wb')
file_object.write(res.content)
file_object.close()
```

**注意事项**
- 路径
	- 绝对路径
	- 相对路径
- 文件不存在的时候，w模式会新建一个文件内容，如果文件存在，w会清空文件再写入内容。