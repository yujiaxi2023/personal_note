
## 进程
进程其实是CPU运行起来的程序和相关资源的统称，是系统对资源调度的最小单位

### 进程的组成

继承一般是程序段，数据集，程序控制块三部分组成：

- 程序段：指令集，进程执行过程中需要运行的代码段，是储存在内存中对应进程的程序段中
- 数据集：也是数据段，进程执行过程中向操作系统申请分配需要使用的资源，运行的时候，使用和产生运算数据，比如全局变量和局部变量
- 控制块：也是程序控制快（PCB，Program Control Block），是用于记录进程的外部特征，描述进程的执行变化过程，操作系统可以利用它来控制和管理进程，是操作系统感知进程存在的唯一标志，创建进程，实质上就是创建进程中的进程控制块，销毁进程就是回收进程控制块

进程和进程之间的计算机资源是相互独立，相互隔离的

### 进程的标记
Process identification PID就是进程的唯一标识

查看pid和ppid
比如pycharm运行代码，python是主程序，父进程就是pycharm
如果是python运行，父进程可能就是cmd
linux使用top查看进程任务，win使用任务管理器

### 进程的调度

- FCFS调度算法：First-Come,First-Served先来先服务调度算法
- SJF/SPF调度算法：Shortest Job First短作业/短进程优先调度算法
- RR调度算法：Round-Robin时间片调度算法
- MFQ调度算法：Multi-level Feedback Queue MFQ属于是多级反馈队列调度算法，属于是折中算法

## 并行，并发和串行

Parallel并行是多任务在不同CPU运行，事实上的同时运行
Concurrent并发，在单核下面，快速来回切换多个任务作业
Serial串行，多任务在同一时间执行一个任务

### 同步，异步，阻塞，非阻塞

- 同步Synchronous  顺序执行
- 异步Asynchronous  交替执行，一般没有阻塞情况
- 阻塞Blocking  等待挂起状态的时候CPU不能执行其他任务
- 非阻塞Nonblocking  等待状态CPU可以执行别的操作

1. 同步阻塞：执行多个任务一个个执行，A挂起CPU等待
2. 异步阻塞：执行多个任务，交替执行的时候，任意任务挂起，CPU就等待不饿能切换到别的任务中
3. 同步非阻塞：一个个执行，没有挂起，没啥意义
4. 异步非阻塞：多任务交替进行，A挂起执行B，B挂起执行A交替执行

python执行多进程，可以使用os fork方法，multiprocessing模块，但是要注意win中创建进程实际上使用的时import注入包，linux中使用的fork系统调用

**注意在创建进程的时候，会消耗一定的资源，所以显示出来一定是父进程在不阻塞的情况下先执行出来，但是实际上操作系统内的创建进程是同时进程的操作**

子进程是孤儿进程就是系统回收，如果是正常进程是父进程进行回收


#####  **不同操作系统下同一个函数在不同进程中的体现**
linux下复制数据集是复制引用地址（也就是内存地址），所以打印出来的watch其实是同样的东西

python解释器是进程，这个进程中也会有代码段，数据集，和控制块
python数据集中是有python内存的，里面有python的引用机制和缓存机制
大部分的数据会存放在python内存中
python解释器会运行一个python文件，这里会在python内存作为父进程，然后执行一个子进程，也就是py文件
这个py文件也就是主进程，然后创建的数据集，里面有一个func的内存地址
所以这时候通过创建进程获得的新的数据集是和主进程一致的，所以这时候看到的func的内存是一样的

**这段代码放入到win的时候就不一样了**
因为win中创建新的进程是通过import方式来跑的
所以这里的watch就是另一个内存了