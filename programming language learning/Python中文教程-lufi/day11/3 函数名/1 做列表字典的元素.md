# 2. 函数和函数名

函数名其实就是一个变量，只不过这个变量代指的是一个函数

```python
name = "wupeiqi"  
def add(n1,n2):  
    return n1 + n2
```

注意：函数必须先定义才能被调用执行
```python
# 正确  
def add(n1,n2):  
    return n1 + n2  
  
ret = add(1,2)  
print(ret)
```

```python
ret = add(1,2)  
print(ret)  
  
def add(n1,n2):  
    return n1 + n2
```

## 2.1 函数做元素

函数可以看作一个变量，在列表等元素中，可以把函数作为元素
```python
def func():  
    return 123  
  
data_list = ["wu", "func", func, func()]  
  
print(data_list[0]) # wu  
print(data_list[1]) # func  
print(data_list[2]) # <function func at 0x0000022A9BAB7310>  
print(data_list[3]) # 123  
  
res = data_list[2]()  
print(res) # 执行函数func，并取得返回值：print输出返回值 # 123  
print(data_list[2]()) # 123  
# 注意：函数同时可以被哈希，所以函数名通知可以当作集合的元素，字典的键
```

注意：函数同时可以被哈希，所以函数名通知可以当作集合的元素，字典的键

掌握这个之后，对后续的项目开发有很大的帮助，例如在项目中遇到根据选择做不同操作的时候：

- 情景1，例如：要开发一个类似于微信的功能
```python
# 情景1，开发一个类似于微信的功能  
def send_message():  
    """发送消息"""  
    pass  
  
def send_image():  
    """发送图片"""  
    pass  
  
def send_emoji():  
    """发送表情"""  
    pass  
  
def send_file():  
    """发送文件"""  
    pass  
  
print("欢迎使用xx系统")  
print("请选择：1.发送消息；2.发送图片；3.发送表情；4.发送文件")  
choice = input("请输入选择的序号")  
  
if choice == "1":  
    send_message()  
elif choice == "2":  
    send_image()  
elif choice == "3":  
    send_emoji()  
elif choice == "4":  
    send_file()  
else:  
    print("输入错误")  
# 这是一种传统方法，但是如果有更多的if判断，这样写很麻烦  
  
  
# 将函数放在列表或者字典中  
def send_message():  
    """发送消息"""  
    pass  
  
def send_image():  
    """发送图片"""  
    pass  
  
def send_emoji():  
    """发送表情"""  
    pass  
  
def send_file():  
    """发送文件"""  
    pass  
  
  
function_dict = {  
    "1":send_message,  
    "2":send_image,  
    "3":send_emoji,  
    "4":send_file  
}  
  
  
print("欢迎使用xx系统")  
print("请选择：1.发送消息；2.发送图片；3.发送表情；4.发送文件")  
choice = input("请输入选择的序号")  
  
func = function_dict.get(choice)  
if not func:  
    print("wrong input!")  
else:  
    # operating function  
    func() # 函数加了括号
```


- 情景2，例如：某个特定的情况，实现发送短信，微信，邮件
```python
def send_msg():  
    """发送短信"""  
    pass  
  
def send_email():  
    """发送图片"""  
    pass  
  
def send_wechat():  
    """发送微信"""  
    pass  
  
# 执行函数  
send_msg()  
send_email()  
send_wechat()  
  
  
# 如果需要顺序执行函数  
def send_msg():  
    """发送短信"""  
    pass  
  
def send_email():  
    """发送图片"""  
    pass  
  
def send_wechat():  
    """发送微信"""  
    pass  
  
func_list = [send_msg,send_email,send_wechat]  
for item in func_list:  
    item()
```


上述两种情景，是在参数相同的时候才能够使用，如果参数不一致就会出错，如果程序无法满足 参数相同，可以采用别的方式达成目的

```python
# 情景1  
  
def send_message(phone,content):  
    """发送消息"""  
    pass  
  
def send_image(img_path,content):  
    """发送图片"""  
    pass  
  
def send_emoji(emoji):  
    """发送表情"""  
    pass  
  
def send_file(path):  
    """发送文件"""  
    pass  
  
function_dict = {  
    "1":[send_message, ['123456','hello']],  
    "2":[send_image, ['./data/xx.png','contents']],  
    "3":[send_emoji, ['emoji']],  
    "4":[send_file, ['xx.zip']]  
}  
  
print("欢迎使用xx系统")  
print("请选择：1.发送消息；2.发送图片；3.发送表情；4.发送文件")  
choice = input("请输入选择的序号")  
  
item = function_dict.get(choice) # [send_message, ['123456','hello']]  
if not item:  
    print("wrong input!")  
else:  
    # 执行函数  
    func = item[0] # send_message  
    param_list = item[1] # ['123456','hello']  
  
    func(*param_list) # send_message(*['123456','hello'])  
  
# 情景2  
  
def send_msg(mobile,content):  
    """发送短信"""  
    pass  
  
def send_email(to_email,subject,content):  
    """发送图片"""  
    pass  
  
def send_wechat(user_id,content):  
    """发送微信"""  
    pass  
  
func_list = [  
    {"name":send_msg,"params":{"mobile":"123456","content":"you have a message"}},  
    {"name":send_email,"params":{"to_email":"wupeiqi@live.com","subject":"warning","content":"no disk memory"}},  
    {"name":send_wechat(),"params":{"user_id":1,"content":"make appointment"}},  
]  
  
# {"name":send_msg,"params":{"mobile":"123456","content":"you have a message"}}  
for item in func_list:  
    func = item["name"] # send_msg  
    param_dict = item["params"] # {"mobile":"123456","content":"you have a message"}  
    func(**param_dict) # send_msg(**{"mobile":"123456","content":"you have a message"})
```