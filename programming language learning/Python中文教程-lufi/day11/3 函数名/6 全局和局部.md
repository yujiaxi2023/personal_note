python中以函数作为作用域，函数的作用域是一个局部作用域
![[Pasted image 20231019123652.png]]

```python
goods = [  
    {"name":"computer","prince":999},  
    {"name":"mouse","price":10},  
    {"name":"ship","price":20},  
    {"name":"beauty","price":998}  
]  
  
  
def send_email():  
    pass  
  
for index in range(len(goods)):  
    item = goods[index]  
    print(index + 1, item["name"], item["price"])  
  
while True:  
    num = input("please input the goods code(Q/q):") # "1"  
    if num.upper() == "Q":  
        break  
    if not num.isdecimal():  
        print("input format wrong")  
        break  
    num = int(num)  
    send_email()  
    if num > 4 or num < 0:  
        print("scope wrong selection")  
        break  
    target_index = num-1  
    choice_item = goods[target_index]  
    print(choice_item["name"],choice_item["price"])  
    send_email()
```
这些变量都是在全局作用域中

```python
# 全局变量（变量名大写）  
COUNTRY = "CHINA"  
CITY_LIST = ['BEIJING','SHANGHAI','SHENZHEN']  
  
def download():  
    # 局部变量  
    url = "https://www.xxx.com"  
    ...  
  
def upload():  
    file_name = "rose.zip"  
    ...
```

局部作用域中获取某一个值：
- 优先在局部中找
- 如果没有找到就找全局的

全局作用域中找一个值：
- 只能在全局作用域中找到

实例1：局部作用域中读取全局作用域的变量
```python
COUNTRY = "CHINA"  
CITY_LIST = ['BEIJING','SHANGHAI','SHENZHEN']  
  
def download():  
    url = "https://www.xxx.com"  
    print(url)  
    print(COUNTRY)  
    print(CITY_LIST)  
      
def upload():  
    file_name = "rose.zip"  
    print(file_name)  
    print(COUNTRY)  
    print(CITY_LIST)  
      
print(COUNTRY)  
print(CITY_LIST)  
download() # 进入局部作用域
upload()
print(file_name) # 报错  
print(url) # 报错
```

实例2：局部作用域和全局作用域变量同名的时候

```python
COUNTRY = "CHINA"  
CITY_LIST = ['BEIJING','SHANGHAI','SHENZHEN']  
  
def download():  
    url = "https://www.xxx.com"  
    CITY_LIST = ["HEBEI","SHANDONG","HENAN"]  
    print(url)  
    print(COUNTRY)  
    print(CITY_LIST)  # 不会找全局的CITY_LIST
  
def upload():  
    file_name = "rose.zip"  
    print(file_name)  
    print(COUNTRY)  # 全局
    print(CITY_LIST)  # 全局
  
print(COUNTRY)  
print(CITY_LIST)  
download()
```

实例3：
```python
COUNTRY = "CHINA"  
CITY_LIST = ['BEIJING','SHANGHAI','SHENZHEN']  
  
def download():  
    url = "https://www.xxx.com"  
    CITY_LIST = ["HEBEI","SHANDONG","HENAN"]  
    print(url)  
    print(COUNTRY)  
    print(CITY_LIST)  
  
def upload():  
    file_name = "rose.zip"  
    print(file_name)  
    print(COUNTRY)  
    print(CITY_LIST)  
  
print(COUNTRY)  
print(CITY_LIST)  
"""  
CHINA  
['BEIJING', 'SHANGHAI', 'SHENZHEN']  
"""  
download()  
"""  
https://www.xxx.com  
CHINA  
['HEBEI', 'SHANDONG', 'HENAN']  
"""  
upload()  
"""  
rose.zip  
CHINA  
['BEIJING', 'SHANGHAI', 'SHENZHEN']  
"""  
COUNTRY = "PCR"  
CITY_LIST = [11,22,33]  
download()  
"""  
https://www.xxx.com  
PCR  
['HEBEI', 'SHANDONG', 'HENAN']  
"""  
upload()  
"""  
rose.zip  
PCR  
[11, 22, 33]  
"""
```

