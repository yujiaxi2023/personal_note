1. 每晚12点整，将/var/log/messages文件使用tar打包备份到/tmp下（压缩包的名字随便取）
2. 安装wget，实现下面的效果，即执行wget，报出禁止使用wget下载文件的错误
3. yum安装软件php-fmp，并启动php-fpm服务
4. 创建用户zhangsan，并禁止他登录linux
5. 已知进程vim的信息如下，现在需要杀死这个进程给出命令
![[Pasted image 20231217210841.png]]
6. 使用yum安装vsftpd，再启动vsftpd，再查看它的运行状态
7. 如何查看scp这个命令来源于哪个软件包
8. 查找/var目录下属主位root，且属组位mail的所有文件
9. 存放用户账户信息的配置文件是 
10. linux系统存放所有用户密码信息的文件是？
11. linux从外网下载文件的命令有哪些
12. 从window上传文件到linux的方式有哪些
13. 使用pkill sshd命令xshell掉线后如何恢复
14. 将下面数字权限用字母表示
741 rwx r-- --x
761 rwx rw- --x
642 rw- r-- -w-
571 r-x rwx --x
632 rw- -wx -w-
756 rwx r-x rw-
654 rw- r-x r--
765 rwx rw- r-x


1.
```
tar -zcf /tmp/1.tar.gz /var/log/messages
crontab -e
# 进入vi编辑器，我们要做的就是做一个重定向
00 00 * * * tar -zcf /tmp/1.tar.gz /var/log/messages
crontab -l
date -s "23:59:40"
ll /tmp/1.tar.gz
mail # 这时候定时任务输出成功了就会发送一个邮件给到用户
# 上边这个命令会查看邮箱
```
###### 我们可以通过定时任务执行后门，会被黑客使用
但是我们是可以让mail不自动发送的
```
crontab -e
# 进入vi编辑器，我们要做的就是做一个重定向
00 00 * * * tar -zcf /tmp/1.tar.gz /var/log/messages 2>/dev/null
```
我们重定向到了这个空设备，像是一个黑洞，进去什么就出不来了

### 改了时间后同步回去
```
sytemctl restart chronyd
```

这样就不会发送给我们自动执行任务的邮件

但是我们短时间执行定时任务，有可能出现不执行的情况
这时候我们可以尝试重启定时任务
```
systemctl restart crond.service
# 这个就是执行定时任务的文件
```
![[Pasted image 20231217212144.png]]
当新邮件发送来的时候，这最前面有一个N显示


2.
使用alias改名wget
```
alias wget="echo 禁止使用wget下载文件"
```
这样就禁止了我们的一般用户使用wget


3.
```
yum install php-fpm -y
```
```
systemctl start php-fpm.service
```
这就是下载并启动服务

4.
```
useradd zhangsan
usermod -L zhangsan
lchage -l zhangsan
```
锁了账号就不能登陆了
```
passwd 更改密码

usermod -U zhangsan

tail -5 /etc/passwd
# 重新指定shell
usermod -s /sbin/nologin zhangsan
```
这样指定成一个打不开的shell就可以禁止登录了

### zshell zshell可能比原版好很多
使用usermod -s更换shell
我们也可以使用别的shell
```
yum provides zsh
yum install zsh -y
usermod -s /bin/zsh zhangsan
tail -5 /etc/passwd
```
![[Pasted image 20231217213308.png]]


5.
```
kill 7729
pkill vim
```

6.
```
yum install vsftpd -y
systemctl start vsftpd
```

7.
正常使用
```
yum provides scp
```

```
which scp
rpm -qf /usr/bin/scp
```
这种方法不用联网，用rpm查属于什么包

8.
```
find /var type f -user root -group mail
```

9.
```
/etc/passwd
```

10.
```
/etc/shadow
```

11.
```
wget
curl
```

12.
```
xftp
scp
rz
```

13.
```
# 开机使用的sshd
systemctl restart sshd
```
重启sshd服务就行