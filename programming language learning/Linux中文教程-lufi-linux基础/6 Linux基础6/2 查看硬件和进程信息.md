
### 查看计算机的cpu 进程 内存等信息

win中会开机自启win资源管理器，不打开是没有桌面的

```
lscpu
# 查看cpu
```
![[Pasted image 20231216223913.png]]

### 查看内存 free 一般后边跟-h，因为字节不好读
```
free -h
```
![[Pasted image 20231216223932.png]]
系统硬件占用的内存
服务器内存是非常大的内存
![[Pasted image 20231216224050.png]]
这个硬盘是热插拔替换
最大支持内存可以到6TB
![[Pasted image 20231216224117.png]]
这还是乞丐版
普通电脑最顶的就是32GB的内存
普通电脑插满了才是128g，跟服务器无法比

### 查看硬盘 df -h

![[Pasted image 20231216224358.png]]

可以看到sdal就是我们的硬盘，其他的几个就是内存，把内存当作硬盘使用，没有IO进程，执行就非常快了

linux相比于win，非常省空间了

### top
![[Pasted image 20231216224630.png]]
按1可以显示CPU核数，这是虚拟机，所以创建几个就是几个CPU

##### 这里的每个都解释一下

###### top后的时间
这里显示的是系统的时间，跟设定的有关系
###### up后的时间
是系统开机到现在的时间
linux可以看到有服务器可以开几千天，这种服务器非常离谱，不敢关机，关机就可能通不过开机自检，老服务器的内容移植到新的服务器，不然的话就容易出现事故
###### load average代表cpu负载
如果cpu负载高，如果服务器很卡，如果正数比较大的时候，就会卡
比如说tab补全命令，就会卡
如果超过了几十几百几千，就可能出现卡顿
比如说黑客入侵，或者说程序有bug
###### 进程的数量tasks
这是会显示有多少正在运行，有多少在睡眠
僵尸进程无法杀死
僵尸进程（Zombie process）实际上具有PID（进程标识符），但它们不再执行任何代码。僵尸进程通常是子进程，其父进程没有正确地等待（通过wait()或类似的系统调用）子进程的终止状态。当子进程终止时，它会变成僵尸进程，保留在进程表中，直到父进程检索其终止状态。

僵尸进程的存在是为了允许父进程获取子进程的退出状态，但如果父进程没有正确处理，这些僵尸进程就会一直存在。在系统中过多的僵尸进程可能导致资源浪费。

要解决僵尸进程问题，父进程应该使用适当的系统调用来等待子进程的终止状态，通常是使用wait()或waitpid()。

很难抓到停止状态的进程，因为停止的进程非常短

```
ps -ef|grep mysql
kill 1470
```
![[Pasted image 20231216225755.png]]
这时候如果杀不掉这个进程
```
kill -9 1470
```
就可以是强制杀掉进程
但是要慎用，这个容易杀进程杀出事情
kill -9 是一个用于终止进程的 Linux 命令。具体来说，kill 命令用于向进程发送信号，而 -9 是一个信号编号，表示 SIGKILL 信号。SIGKILL 是一个强制终止进程的信号，它立即结束目标进程，不给予进程任何清理或保存数据的机会。

使用 kill -9 的效果是强制终止指定的进程，无论进程当前的状态如何。这在某些情况下可能是必要的，特别是当其他终止信号无法正常终止进程时，或者当需要立即停止进程而不考虑其正在执行的操作时。但请注意，kill -9 的使用可能导致数据丢失或其他问题，因此应该谨慎使用。


###### cpu这一行

%Cpu0代表是显示cpu0的使用情况
- us：用户空间程序使用CPU时间百分比
- sy：系统内核使用CPU时间百分比
- ni：用于nice值调整的用户进程时间百分比
- id：CPU出于空闲时间百分比idle
- wa：CPU等待IO的完成时间百分比
- hi：硬中断（harware interrupt）时间百分比
- si：软中断（software interrupt）时间百分比
- st：虚拟机偷取的时间百分比（仅仅在虚拟环境中显示）

nice值是用于表示进程优先级的参数，它影响了进程对CPU资源的竞争。这个值的范围一般是从-20到+19，-20是最高优先级，+19是最低优先级。

较低的nice值表示更高的优先级，这意味着进程更可能获得CPU资源。一般用户启动的进程初始的nice值为0，而特权用户（比如root）可以为进程分配更低的nice值，提高其优先级。

nice值是通过nice或renice命令来调整的。例如，使用nice -n 10 command可以以较低优先级启动一个进程，而renice -n 5 -p pid可以修改已经运行进程的nice值。

这个机制允许用户或系统管理员控制进程对CPU资源的访问优先级，以便更好地管理系统资源。
![[Pasted image 20231216230544.png]]
注意这里的是前边的数字描述后边的字母

这里的id代表空闲的进程

###### **KiB Mem:** 显示系统内存的使用情况：
- **total:** 总物理内存。
- **free:** 空闲的物理内存。
- **used:** 已使用的物理内存。
- **buff/cache:** 用于缓存的内存。

####### **KiB Swap:** 显示交换空间（swap）的使用情况：
- **total:** 总交换空间。
- **free:** 空闲的交换空间。
- **used:** 已使用的交换空间。
- **avail Mem:** 可用的物理内存。
这是虚拟内存的信息

win中的虚拟内存
![[Pasted image 20231216230947.png]]
这是把硬盘中的一块空间当作内存使用

为什么会有虚拟内存
早年间cpu都是单核，所以cpu内存非常小 16 32 64 128 256M内存

比如说我有一个程序，是整体需要一个比较大的内存运行
比如cpu只有128MB，然后我分配一个1G的虚拟内存，这样游戏或者是程序就可以加载进来，虽然硬盘速度跟内存无法比较，但是至少是可以进行运行了

因为这是win很早的设置，所以现在早就屎山代码了，所以还不能轻易删除这个东西
![[Pasted image 20231216231446.png]]
你可以看到这里占了比较大的空间

linux禁用虚拟内存没有啥问题，win有问题
在top中可以看程序占用系统的内存有多少
![[Pasted image 20231216231606.png]]
linux非常节省资源

### 停止top 键盘上q小写就可以退出

