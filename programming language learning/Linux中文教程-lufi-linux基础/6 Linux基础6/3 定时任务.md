定期执行任务
```
# 时间命令
date
# 查看时间
[root@localhost nginx-1.24.0]# date
Sat Dec 16 09:18:40 EST 2023

```
linux中使用的是分 时 日 月 周的格式
分       时    日    月     周   cmd
0-59 0-23 1-31 1-12 1-7   cmd

设定好时间，然后后边跟命令就可以了
比如我要进行渗透测试，或者攻击的命令，就可以设置时间
这里的cmd是可以执行任意命令

### date是用来看时间的命令
```
date >>/tmp/time.txt
date >>/tmp/time.txt

cat /tmp/time.txt

crontab -l
# 查看现在又多少定时任务
crontab -e # 会创建一个临时文件
# 在里面可以写定时任务，使用vi编辑器使用
```
定时任务的语法
分       时    日    月     周
`*/5   *   *    *    *`
如果没有`*`就是确定的时间
`01   *   *    *    *`

`*`代表的就是每的意思，比如每分钟
`*/5` 每5分钟
05 第5分钟

如果希望多个时间
比如05，10就是第5分钟和第10分钟

#### crontab -l查看定时任务

#### crontab -e 修改定时任务
tail -f 可以用来追踪文件的末尾变化
更改时间
```
date -s '20220830 12:59:30'
```
```
[root@localhost linux6work]# cat /tmp/time.txt 
Sat Dec 16 10:06:02 EST 2023
```
![[Pasted image 20231217000952.png]]
要注意自动执行的命令里面尽量不要写相对路径
crontab 命令的执行目录通常是用户的主目录。当你执行 crontab -e 命令编辑定时任务时，系统会打开一个文本编辑器，其中包含用户的定时任务配置。这个文件的默认保存路径是用户的主目录下的 .crontab 或类似的隐藏文件。

你可以使用 pwd 命令来查看当前所在目录，或者在编辑定时任务时查看编辑器中的文件路径来确认。如果你没有指定绝对路径，那么生成的日志文件（如你之前提到的 time.txt）会保存在执行 crontab 命令时的当前工作目录。

#### crontab -r移除所有的定时任务

which可以查到命令的绝对路径
```
which shutdown
[root@localhost linux6work]# which shutdown
/usr/sbin/shutdown
```

![[Pasted image 20231217001401.png]]
从进程上面就可以看到我们的定时任务是显示在这里执行的crond -n

### date显示时间格式（指定的）
```
date +%F # 表示完整的日期格式，年份月份日期，使用短横线分割

date +%T # 表示完整的时间格式，小时分钟秒，使用冒号分割

date +%F\ %T # 使用两个格式化选项，中间空格分割
```

```
date -s '更改后的时间'
```
date -s 是用于设置系统日期和时间的 date 命令的选项之一。它的用法通常是：
```
date -s "YYYY-MM-DD HH:MM:SS"
```
其中，YYYY-MM-DD 表示年-月-日，HH:MM:SS 表示时:分:秒。通过这个命令，你可以手动设置系统的日期和时间。

例如，要将系统时间设置为2023年12月16日下午03:45:21，你可以执行：
```
date -s "2023-12-16 15:45:21"
```
请注意，修改系统时间通常需要 root 或具有管理员权限的用户。
而且如果我只设置秒分钟时间，就符合格式来
![[Pasted image 20231217002127.png]]
