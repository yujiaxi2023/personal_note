## tar解压

```
# 打包和解压缩
tar
例子1：
# 归档：不压缩
# 有的时候会看到压缩包是归档文件
tar cf test.tar vmlinuz-*
```

```
例子2：
# 压缩并归档
tar -zcf test2.tar.gz vmlinuz-*
```
z 压缩
c 创建压缩包
f 跟一个压缩路径
```
[root@localhost desktop1]# ls -lh
total 656K
-rw-r--r-- 1 root root 655K Dec 15 07:45 services
[root@localhost desktop1]# tar -zcf 1.tar.gz services 
[root@localhost desktop1]# ls -lh
total 792K
-rw-r--r-- 1 root root 134K Dec 15 07:46 1.tar.gz
-rw-r--r-- 1 root root 655K Dec 15 07:45 services
```
解压文件
```
tar -zxf 1.tar.gz
```
解压文件没有任何差别，包括日期等内容

归档是将多个文件合并到一个文件中，并不会进行压缩
```
[root@localhost desktop1]# cp /boot/vmlinuz-* .
[root@localhost desktop1]# ls 
1.tar.gz  vmlinuz-0-rescue-79cb8153c5e5418ebbb03c16607aad63
services  vmlinuz-3.10.0-1127.el7.x86_64
[root@localhost desktop1]# ll -h
total 14M
-rw-r--r-- 1 root root 134K Dec 15 07:46 1.tar.gz
-rw-r--r-- 1 root root 655K Dec 15 07:45 services
-rwxr-xr-x 1 root root 6.5M Dec 15 07:48 vmlinuz-0-rescue-79cb8153c5e5418ebbb03c16607aad63
-rwxr-xr-x 1 root root 6.5M Dec 15 07:48 vmlinuz-3.10.0-1127.el7.x86_64
[root@localhost desktop1]# tar -zcf 2.tar.gz vmlinuz-*
[root@localhost desktop1]# ll -h
total 26M
-rw-r--r-- 1 root root 134K Dec 15 07:46 1.tar.gz
-rw-r--r-- 1 root root  13M Dec 15 07:49 2.tar.gz
-rw-r--r-- 1 root root 655K Dec 15 07:45 services
-rwxr-xr-x 1 root root 6.5M Dec 15 07:48 vmlinuz-0-rescue-79cb8153c5e5418ebbb03c16607aad63
-rwxr-xr-x 1 root root 6.5M Dec 15 07:48 vmlinuz-3.10.0-1127.el7.x86_64
```
为什么这里的文件没有大小变化，因为已经压缩的很厉害了，已经压不出来了
```
[root@localhost desktop1]# cp /etc/services dms.txt
[root@localhost desktop1]# ll -h
total 656K
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms.txt
[root@localhost desktop1]# cp /etc/services dms1.txt
[root@localhost desktop1]# ll -h
total 1.3M
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms1.txt
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms.txt
[root@localhost desktop1]# tar -zcf 2.tar.gz dms.txt dms1.txt
[root@localhost desktop1]# ll -h
total 1.6M
-rw-r--r-- 1 root root 267K Dec 15 07:51 2.tar.gz
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms1.txt
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms.txt
```
这压力可以看到明显压缩的大小变少了

如果不使用 z 参数，就是只对文件进行归档
```
[root@localhost desktop1]# ll -h
total 1.6M
-rw-r--r-- 1 root root 267K Dec 15 07:51 2.tar.gz
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms1.txt
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms.txt
[root@localhost desktop1]# tar -cf 3.tar.gz dms.txt dms1.txt
[root@localhost desktop1]# ll -h
total 2.9M
-rw-r--r-- 1 root root 267K Dec 15 07:51 2.tar.gz
-rw-r--r-- 1 root root 1.3M Dec 15 07:53 3.tar.gz
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms1.txt
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms.txt
```
可以看到3和2的大小不一样

- tar -zcf  压缩包路径(唯一的)  目标1  目标2 ···
- tar -zxf  解压压缩包路径

```
例子3：
# 查看压缩包内容
tar tf test.tar
```
tf 是用来查看压缩包内容的
可以看到压缩了多少文件
```
[root@localhost desktop1]# tar -tf 1.tar.gz 
2.tar.gz
3.tar.gz
[root@localhost desktop1]# tar -tf 2.tar.gz 
dms.txt
dms1.txt
[root@localhost desktop1]# tar -tf 3.tar.gz 
dms.txt
dms1.txt
```

tar 命令比较特殊，加不加  -  都可以

**不同的压缩包格式需要不同的命令解压，不像是win一样**


## gzip压缩解压缩

```
[root@localhost desktop1]# gzip dms.txt
[root@localhost desktop1]# ls -lh
total 2.9M
-rw-r--r-- 1 root root 533K Dec 15 07:56 1.tar.gz
-rw-r--r-- 1 root root 267K Dec 15 07:51 2.tar.gz
-rw-r--r-- 1 root root 1.3M Dec 15 07:53 3.tar.gz
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms1.txt
-rw-r--r-- 1 root root 133K Dec 15 07:51 dms.txt.gz
```
gzip在压缩的时候会把源文件删掉

解压缩的时候也是类似
```
[root@localhost desktop1]# gzip -d dms.txt.gz 
[root@localhost desktop1]# ls -lh
total 3.4M
-rw-r--r-- 1 root root 533K Dec 15 07:56 1.tar.gz
-rw-r--r-- 1 root root 267K Dec 15 07:51 2.tar.gz
-rw-r--r-- 1 root root 1.3M Dec 15 07:53 3.tar.gz
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms1.txt
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms.txt
```

在打包两个文件，会分别打包文件
```
[root@localhost desktop1]# gzip dms.txt dms1.txt
[root@localhost desktop1]# ll -h
total 2.4M
-rw-r--r-- 1 root root 533K Dec 15 07:56 1.tar.gz
-rw-r--r-- 1 root root 267K Dec 15 07:51 2.tar.gz
-rw-r--r-- 1 root root 1.3M Dec 15 07:53 3.tar.gz
-rw-r--r-- 1 root root 133K Dec 15 07:51 dms1.txt.gz
-rw-r--r-- 1 root root 133K Dec 15 07:51 dms.txt.gz
```
这个压缩方式并不好用，但是我们会碰到这种格式
```
[root@localhost desktop1]# gzip -d dms1.txt.gz dms.txt.gz 
[root@localhost desktop1]# ll -g
total 3436
-rw-r--r-- 1 root  545772 Dec 15 07:56 1.tar.gz
-rw-r--r-- 1 root  272442 Dec 15 07:51 2.tar.gz
-rw-r--r-- 1 root 1351680 Dec 15 07:53 3.tar.gz
-rw-r--r-- 1 root  670293 Dec 15 07:51 dms1.txt
-rw-r--r-- 1 root  670293 Dec 15 07:51 dms.txt
```

```
gzip 目标1 目标2 ···
gzip -d 压缩文件1 压缩文件2
```


## zip压缩unzip解压缩

```
[root@localhost desktop1]# zip -r 1.zip dms.txt dms1.txt 
  adding: dms.txt (deflated 80%)
  adding: dms1.txt (deflated 80%)
[root@localhost desktop1]# ll -h
total 3.7M
-rw-r--r-- 1 root root 533K Dec 15 07:56 1.tar.gz
-rw-r--r-- 1 root root 267K Dec 15 08:07 1.zip
-rw-r--r-- 1 root root 267K Dec 15 07:51 2.tar.gz
-rw-r--r-- 1 root root 1.3M Dec 15 07:53 3.tar.gz
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms1.txt
-rw-r--r-- 1 root root 655K Dec 15 07:51 dms.txt
[root@localhost desktop1]# 
```
这里 -r 代表压缩参数

解压文件unzip
```
[root@localhost desktop1]# unzip 1.zip
Archive:  1.zip
  inflating: dms.txt                 
  inflating: dms1.txt   
```

其他的格式在linux中比较难支持

#### rar格式
```
# 解压rar包
# 需要安装软件
yum install epel-release -y
yum install unar -y
# 再进行解压
unar -o /opt 456.rar
```
![[Pasted image 20231215221421.png]]
![[Pasted image 20231215221427.png]]

rar格式不是通用的

全世界通用的格式是zip

