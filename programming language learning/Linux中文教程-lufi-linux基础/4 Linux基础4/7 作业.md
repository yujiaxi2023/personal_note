1. 下载文件保存到/opt目录，文件下载地址随意
2. 将下载的文件备份一份到/data目录，修改文件用户和用户组为test
3. 分别使用zip和gzip命令压缩下载的文件，并看看压缩比率谁高
4. 解压上一题中产生的gz压缩文件
5. 使用vim打开下载的man_db.conf文件
6. 在vim中设置行号
7. 移动到43行，向右移动59个字符，可以看到的是小括号内是哪个文字？
8. 移动到第一行，并且向下搜寻一下gzip字串，在第几行
9. 将29到41行之间的小写man字符串改写成大写的MAN字符串，并且要一个个挑选是否需要修改，如何下达指令，如果一直使用y，最后一列会出现改变了多少个man

1.
推荐使用wget 和 curl

压缩包不能curl打开，打开就会乱码

linux中每种文件都需要正确的程序进行打开

curl使用的时候要注意
curl -o 文件名 让文件另存为一下，不然使用起来比较麻烦

2.
设置行号可以set nu

```
[root@localhost linux5work]# wget http://mirror.tuna.tsinghua.edu.cn/centos/filelist.gz
--2023-12-15 10:04:16--  http://mirror.tuna.tsinghua.edu.cn/centos/filelist.gz
Resolving mirror.tuna.tsinghua.edu.cn (mirror.tuna.tsinghua.edu.cn)... 101.6.15.130, 2402:f000:1:400::2
Connecting to mirror.tuna.tsinghua.edu.cn (mirror.tuna.tsinghua.edu.cn)|101.6.15.130|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 7741232 (7.4M) [application/octet-stream]
Saving to: ‘filelist.gz’

100%[==========================================>] 7,741,232   4.89MB/s   in 1.5s   

2023-12-15 10:04:18 (4.89 MB/s) - ‘filelist.gz’ saved [7741232/7741232]

[root@localhost linux5work]# mkdir opt
[root@localhost linux5work]# cp filelist.gz opt/
[root@localhost linux5work]# ls opt
filelist.gz
[root@localhost linux5work]# ls
filelist.gz  opt
[root@localhost linux5work]# chown test1:test filelist.gz 
[root@localhost linux5work]# ls -lh
total 7.4M
-rw-r--r-- 1 test1 test 7.4M Dec 15 09:10 filelist.gz
drwxr-xr-x 2 root  root   25 Dec 15 10:04 opt
[root@localhost linux5work]# gzip -d filelist.gz 
[root@localhost linux5work]# ls
filelist  opt
[root@localhost linux5work]# zip -r 1.zip filelist 
  adding: filelist (deflated 85%)
[root@localhost linux5work]# ls
1.zip  filelist  opt
[root@localhost linux5work]# gzip filelist 
[root@localhost linux5work]# ls -l
total 15040
-rw-r--r-- 1 root  root 7698293 Dec 15 10:09 1.zip
-rw-r--r-- 1 test1 test 7698154 Dec 15 09:10 filelist.gz
drwxr-xr-x 2 root  root      25 Dec 15 10:04 opt
[root@localhost linux5work]# unzip 1.zip
Archive:  1.zip
  inflating: filelist                
[root@localhost linux5work]# ls
1.zip  filelist  filelist.gz  opt
[root@localhost linux5work]# yum install vim
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: ftp.iij.ad.jp
 * extras: ftp.iij.ad.jp
 * updates: ftp.iij.ad.jp
Resolving Dependencies
--> Running transaction check
---> Package vim-enhanced.x86_64 2:7.4.629-8.el7_9 will be installed
--> Processing Dependency: vim-common = 2:7.4.629-8.el7_9 for package: 2:vim-enhanced-7.4.629-8.el7_9.x86_64
--> Processing Dependency: libgpm.so.2()(64bit) for package: 2:vim-enhanced-7.4.629-8.el7_9.x86_64
--> Running transaction check
---> Package gpm-libs.x86_64 0:1.20.7-6.el7 will be installed
---> Package vim-common.x86_64 2:7.4.629-8.el7_9 will be installed
--> Processing Dependency: vim-filesystem for package: 2:vim-common-7.4.629-8.el7_9.x86_64
--> Running transaction check
---> Package vim-filesystem.x86_64 2:7.4.629-8.el7_9 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

====================================================================================
 Package               Arch          Version                   Repository      Size
====================================================================================
Installing:
 vim-enhanced          x86_64        2:7.4.629-8.el7_9         updates        1.1 M
Installing for dependencies:
 gpm-libs              x86_64        1.20.7-6.el7              base            32 k
 vim-common            x86_64        2:7.4.629-8.el7_9         updates        5.9 M
 vim-filesystem        x86_64        2:7.4.629-8.el7_9         updates         11 k

Transaction Summary
====================================================================================
Install  1 Package (+3 Dependent packages)

Total download size: 7.0 M
Installed size: 23 M
Is this ok [y/d/N]: y
Downloading packages:
(1/4): gpm-libs-1.20.7-6.el7.x86_64.rpm                      |  32 kB  00:00:00     
(2/4): vim-filesystem-7.4.629-8.el7_9.x86_64.rpm             |  11 kB  00:00:00     
(3/4): vim-enhanced-7.4.629-8.el7_9.x86_64.rpm               | 1.1 MB  00:00:00     
(4/4): vim-common-7.4.629-8.el7_9.x86_64.rpm                 | 5.9 MB  00:00:00     
------------------------------------------------------------------------------------
Total                                                   12 MB/s | 7.0 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : 2:vim-filesystem-7.4.629-8.el7_9.x86_64                          1/4 
  Installing : 2:vim-common-7.4.629-8.el7_9.x86_64                              2/4 
  Installing : gpm-libs-1.20.7-6.el7.x86_64                                     3/4 
  Installing : 2:vim-enhanced-7.4.629-8.el7_9.x86_64                            4/4 
  Verifying  : gpm-libs-1.20.7-6.el7.x86_64                                     1/4 
  Verifying  : 2:vim-enhanced-7.4.629-8.el7_9.x86_64                            2/4 
  Verifying  : 2:vim-common-7.4.629-8.el7_9.x86_64                              3/4 
  Verifying  : 2:vim-filesystem-7.4.629-8.el7_9.x86_64                          4/4 

Installed:
  vim-enhanced.x86_64 2:7.4.629-8.el7_9                                             

Dependency Installed:
  gpm-libs.x86_64 0:1.20.7-6.el7             vim-common.x86_64 2:7.4.629-8.el7_9   
  vim-filesystem.x86_64 2:7.4.629-8.el7_9   

Complete!
[root@localhost linux5work]# vim filelist

```


使用V可以在vim中进入可视化行的模式
![[Pasted image 20231216002050.png]]

![[Pasted image 20231216002128.png]]
w可以加路径，绝对和相对都可以

```
wc -l 文件名
```
可以数文件多少行

如果tar打包文件
会清除掉它所属的上级目录，这样在解压的时候，直接解压就是当前文件夹下解压
![[Pasted image 20231216002500.png]]
![[Pasted image 20231216002545.png]]
这里比较奇怪，为什么说这里的压缩文件10M
但是etc的文件是8192
linux中一切都是文件
它会分配一个空间
一个是目录，一个是文件，就像是字典一样，一个文件对应目录中的一个编号
所以查文件的时候只用查目录
每次查目录其实就是在查硬盘，每次找到一个仓库
然后取到仓库之后，在仓库中存放的数据
目录的是需要放文件名和文件编号
所以查就只用查文件名和文件编号
为什么这里是8192个字节，是因为占有两个仓库，一个是4096，两个就是8192

```
mkdir dms{001..100}
touch dms{001..100}/test{1..100}.txt
```
![[Pasted image 20231216003056.png]]
这是每个目录的初始大小，为什么是6，因为里面默认有 . 和 .. 代表当前和上级目录

每个文件夹下面创建100个文件
创建文件之后
![[Pasted image 20231216003159.png]]

目录其实是一个普通文件，里面存放着文件名和文件编号
这样方便系统进行快速的查找

查看每个文件的编号
```
ls -il
```
![[Pasted image 20231216003343.png]]
这个编号就是有长有短的 

因为我们 ls -l 查看的是目录
所以我们可以使用
### du -smh /etc
来查看目录和目录下文件的总体大小
![[Pasted image 20231216003510.png]]

尽量使用链接克隆，不要使用完整克隆
但是链接克隆需要原始虚拟机是正常的
完整克隆需要硬盘速度非常快的

![[Pasted image 20231216003713.png]]
这里可以xshell创建新的

![[Pasted image 20231216003755.png]]

![[Pasted image 20231216003859.png]]
这是进行永久修改
每个机器装好之后会有唯一的编号
