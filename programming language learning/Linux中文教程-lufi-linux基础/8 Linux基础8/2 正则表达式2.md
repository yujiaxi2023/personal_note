如果我们需求把一个配置文件的注释全部删除
```
grep '#.*$' 文件路径
```
这个代表的是匹配开头是#的所有字符一直到末尾
```
grep '#' 文件路径
```
这样匹配其实不是很严谨,因为#前边可能还有内容

```
sed '/#/d' 文件路径
```
带#的行就会全部删掉
```
sed '/^$/d' 文件路径
```

```
grep -Ev '^$|#' 文件路径备份 > 文件源路径
```
过滤出来所有的空行和带#的行,然后备份了文件,并且更改了源文件


```
[root@localhost greptut]# cat 3.txt 
TYPE=Ethernet	#网络类型
BOOTPROTO=dhcp	#使用dhcp获取ip地址
NAME=ens33	#网络的名字
DEVICE=ens33	#网卡的名字
ONBOOT=yes	#网卡开机自启
```
现在假如说我们3 中的内容是配置文件
配置文件是不能有注释的,不然会无法启动网卡
所以需求是删除这些注释内容

```
[root@localhost greptut]# sed 's/#.*//g' 3.txt 
TYPE=Ethernet	
BOOTPROTO=dhcp	
NAME=ens33	
DEVICE=ens33	
ONBOOT=yes	
```
但还有很多空格没有显示
```
cat -A 3.txt
```
```
[root@localhost greptut]# cat -A 3.txt
TYPE=Ethernet^I#M-gM-=M-^QM-gM-;M-^\M-gM-1M-;M-eM-^^M-^K$
BOOTPROTO=dhcp^I#M-dM-=M-?M-gM-^TM-(dhcpM-hM-^NM-7M-eM-^OM-^VipM-eM-^\M-0M-eM-^]M-^@$
NAME=ens33^I#M-gM-=M-^QM-gM-;M-^\M-gM-^ZM-^DM-eM-^PM-^MM-eM--M-^W$
DEVICE=ens33^I#M-gM-=M-^QM-eM-^MM-!M-gM-^ZM-^DM-eM-^PM-^MM-eM--M-^W$
ONBOOT=yes^I#M-gM-=M-^QM-eM-^MM-!M-eM-<M-^@M-fM-^\M-:M-hM-^GM-*M-eM-^PM-/$
```
就可以看到有很多东西没有展示
就是把这些多余的字符设置为空就行了


### `[abc]`匹配集合内部任意字符

![[Pasted image 20231218204436.png]]
这里需要深刻理解一下`*`代表的是0次或者多次重复前面的值

### `[^abc]` 过滤出不要集合内的内容
```
grep -E '[^0-9a-z]' 1.txt
```
![[Pasted image 20231218204418.png]]


### {n,m} 重复n到m次,前一个字符
中括号里面的是不用转义的标点
```
grep '[0-9.]{7,15}' secure
```
![[Pasted image 20231218204604.png]]
这就是查看ip地址的正则
