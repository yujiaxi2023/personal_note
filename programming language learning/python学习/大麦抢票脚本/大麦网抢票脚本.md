
第一步
实现selenum抢票操作
判断当前有没有登录
有就不需要登录

```python
from selenum import webdriver
import os
import time
import pickle

# 进入大麦网首页
damai_url = 'https://www.damai.cn/'

# 进入登录界面
login_url = 'https://passport.damai.cn/login?ru=https%3A%2F%2Fwww.damai.cn%2F'

# 进入抢票界面
target_url = ''
```

```python
# 定义类
class Concert:
	"""
	初始化加载
	"""
	def __init__(self):
		self.status = 0 # 状态，表示当前操作执行的步骤
		self.login_method = 1 # {0: 模拟登录，1:cookie登录}
		self.driver = webdriver.Chrome(executable_path = '') # 初始化浏览器
```
大的浏览器都会生产驱动，代码需要调用驱动进行浏览器操作

```python
"""
执行登录操作
"""

"""
cookies：登录网站时候的记录用户信息
"""
	def set_cookies(self):
		self.driver.get(login_url)
		print("###请扫码登录###")
		time.sleep(10)
		print("###登录成功###")
		# cookie.pkl
		pickle.dump(self.driver.get_cookies(), open('cookies.pkl', 'wb'))
		print("###保存成功###")
		# 抢票
		self.driver.get(target_url)

"""
如果已经有了cookeis.pkl
"""
	def get_cookies(self):
		pickle.load(open('cookie.pkl', 'rb'))
		for cookie in cookies:
			print(cookie)

	def login(self):
		# 如果为0 模拟登录
		if self.login_method == 0:
			self.driver.get(login_url)
		elif self.login_method == 1:
			# 如果当前目录下没有cookie.pkl文件
			if not os.path.exists('cookie.pkl'):
				# 登录一下 登录信息记录
				self.set_cookies()
			else:
				self.driver.get(target_url)
				# 登录 通过selenum传入用户信息
				self.get_cookies()
```

```python
if __name__ == '__main__':
	con = Concert()
	con.login()
```