课程目标：讲解计算机中的一些必备的尝试，了解常见名词后边的含义
课程概要：
python代码的运行方式
进制
计算机中的单位
编码

**1.python代码的运行方式**
脚本式
交互式

不知道什么原因，可能是命令行不能用~命令，无法按照老师的操作运行脚本
但是可以粘贴pycharm中的运行格式如图所示
![[Pasted image 20230418164614.png]]
应该是**环境变量**的问题，没有办法直接指向python.exe程序，需要加环境变量

**脚本式程序执行**
解释器 + 脚本路径 拼接执行

**交互式程序执行**
![[Pasted image 20230418165504.png]]
![[Pasted image 20230418165609.png]]
直接输入python就可以打开交互式python界面如图所示
echo $env:Path
是查看自己环境变量设置情况的
![[Pasted image 20230418165745.png]]
输入exit（）或者是CTRL + z都可以退出python环境
![[Pasted image 20230418165857.png]]
如果错误的输入python311，就会出现图示的报错
跟老师的教程不一样

在交互式python界面中
![[Pasted image 20230418170331.png]]
就可以直接写代码进行操作
交互式写代码，关闭界面之后代码就消失了

![[Pasted image 20230418170726.png]]
不仅是直接在电脑中打开终端，也可以在pycharm中打开终端

**2.进制**
底层数据都是以位模式存在0101010

称为二进制
```python
0
1
10
11
110
111
```
![[Pasted image 20230418171417.png]]

八进制
十进制
十六进制

![[Pasted image 20230418171840.png]]

**2.1 进制转换**
在python中，10进制是整型，2进制 8进制 16进制都是字符串
![[Pasted image 20230418172421.png]]
然后都可以和10进制转换，但是2 8 16 之间不能转换
```python
25
v1 = bin(25) # 十进制转换为二进制
v2 = oct(25) # 十进制转换为八进制
v3 = hex(25) # 十进制转换为十六进制
```
![[Pasted image 20230418172900.png]]
![[Pasted image 20230418172914.png]]
其中的0b 0o 0x代表的分别是2进制，8进制，16进制
后边的是转换后的结果
2进制是11001 
8进制是31 
16进制是19

```python
i1 = int("0b11001",base=2)
i2 = int("0o27",base=8)
i3 = int("0x38",base=16)
```
这样写是可以 输出结果的
![[Pasted image 20230418173443.png]]
但是如果超过了进制限制，例如命名0o81，因为超过了8，所以结果会报错
![[Pasted image 20230418173545.png]]

**3. 计算机中的单位**
为了能够对二进制值大小进行表示，所以有一些单位
b（bit）位
1 1位
10 2位
111 3位

B（byte）字节
8位是1个字节

10010110  1个字节
11010010   10010110   2个字节

KB（kilobyte）千字节
1024个字节就是1个千字节
就是有1024个11010010这样的东西
1KB = 1024B = 1024 x 8b

M（megabyte）兆
1024KB就是1M

G（gigabyte）千兆
1024M就是1G

T（terabyte）万亿字节
1024G就是1T

更大的单位还有PB/EB/ZB/YB/BB/NB/DB

练习
一个汉字需要两个字节表示，1G流量可以通过网络传输多少汉字
500G硬盘可以寸多少个汉字

答案
1024M= 1024x1024x1024B
除以2就能传送几个汉字
500G直接×前面的结果就行

**4. 编码**
编码是文字和二进制之间的对照表

**4.1 ascii编码**
只包含了字母和字符，以及二进制对应关系
ascii使用1个字节来表示字母和二进制的对应关系
```
00000000    w
00000001    W
00000010    B
00000011    a

11111111

2xx8 = 256 总共有2的8次方种，也就是256种可能性，对于英文对应是足够的
```

![[Pasted image 20230419161801.png]]
[ASCII Table - Character Codes, HTML Entities, Octal, Hex, Decimal (lookuptables.com)](https://www.lookuptables.com/text/ascii-table)
![[Pasted image 20230419161921.png]]

我们不能使用ascii来写中文，会报错，只能使用英文

**4.2 gb-2312编码**
1980年编写的编码，gbk是对于gb-2312扩展，包含中日韩文字

在与二进制做对应关系，由如下逻辑
1. 单字节表示，用一个字节表示对应关系  2xx8 = 256
2. 双字节表示，用两个字节表示对应关系   2xx16 = 65536

**Unicode**
万国码，每个文字都分配了码位

ucs2
用固定的两个字节，总共会包含2 个字节固定一个符号
![[Pasted image 20230419165500.png]]

ucs4
用四个字节表达一个文字
![[Pasted image 20230419165602.png]]

举例
![[Pasted image 20230419165633.png]]
ucs2标准下需要在前边加0
ucs4标准也是在前面加0
![[Pasted image 20230419165751.png]]

中文示例
![[Pasted image 20230419170006.png]]
这是原始二进制的表示
![[Pasted image 20230419170025.png]]

为什么出现ucs4就是代表ucs2就不够用了
![[Pasted image 20230419170405.png]]

使用unicode是会浪费空间的，因为不论你使用的字是2个还是4个字节表示，都需要前边补0，所以会浪费这些空间

Unicode不会在文件存储和网络传输的时候使用，会在内存中使用unicode
**因为长度都是一样的，所以比较方便计算，而且内存中的计算基本不大**

**4.4 utf-8编码**
包含所有文字和二进制的对应关系，全球应用最广泛的编码
本质上：是对Unicode 的压缩，用尽量少的二进制去与文字进行对应
```
Unicode的码位范围       utf-8
0000-007F              用1个字节
0080-07FF              用2个字节表示
0800-FFFF              用3个字节表示
10000-10FFFF           用4个字节表示
```

压缩的过程分两步：
第一步：选择转换模板
```
Unicode的码位范围(16进制)       utf-8
0000-007F                   用1个字节
0080-07FF                   用2个字节表示
0800-FFFF                   用3个字节表示
10000-10FFFF                用4个字节表示
```
```
例如
"B" unicode is 0042, this is first pattern
"武" unicode is 6B66, this is a third pattern

tips: chinese match third patter(3B), this is why we said utf-8 will occupy 3 B
```
第二部：在模板中填入数据
```
-“武” -> 6B66 -> 110 101101 100110  首先转换为二进制

-根据模板套数据，我们这里是汉字：“武”，所以对应的是第三个模板
  1110XXXX 10XXXXXX 10XXXXXX 这是第三个模板
  1110XXXX 10XXXXXX 10100110 从后往前数，填入6位数字
  1110XXXX 10101101 10100110 然后再6位
  11100110 10101101 10100110 这里还差1位，就补0
  所以就能够得出utf-8中的编码
```
还有别的utf的压缩模式
但是最广使用的时候utf-8

**4.5 Python相关的编码**
```
字符串（str）    “alex媳妇叫铁锤”    会用unicode处理这个字符串 在内存中
字节（byte）    b“alexfjalh”    utf-8编码或者gbk编码 用于网络传输

v1 = "武"
# 我们需要把这个转换为utf-8或者其他容易传输的格式

v2 = "武".encode("utf-8")
v2 = "武".encode("gbk")
# 上面两种都统称字节

```

将一个字符串写入到一个文件中

```python
name = "嫂子热的满身大汉"
data = name.encode("utf-8")

# 打开一个文件
file_object = open("log.txt",mode="wb")
# 在文件中写内容
file_object.write(data)
# 关闭文件
file_object.close()
```
我们写的字符串是Unicode形式，所以需要转换为字节形式，方便存储在文件中

**总结**
1. 计算机中所有的都是转换为二进制
2. ASCII编码，Unicode字符集，utf-8编码本质都是字符和二进制的关系         ascii是字符和二进制对照，unicode是字符和二进制码位的对照表
3. ucs2和ucs4指的是使用多少个字节表示unicode字符集的码位
4. 目前应用最广泛的是基于Unicode压缩的utf-8编码
5. 二进制八进制十进制十六进制是进位的时机不同
6. 基于python实现进制的转换
7. 一个字节8位
8. 计算机中常见的单位b/B/KB/M/G
9. 汉字用gbk编码需要2个字节，用utf-8编码需要3个字节
10. 基于python实现将字符串转换为字节（utf-8 gbk）

```python
# 将字节转换为字符串
old = data.decode("utf-8")
```
![[Pasted image 20230422160332.png]]
gbk和utf-8编码区别在使用的字节数，gbk采用的是两个字节一个汉字
